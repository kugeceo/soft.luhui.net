鲁虺Flash历史博物馆资讯系统 html JavaScript txt V1.1.2更新

Luhui Flash History Museum Information System V1.1.2

修复文章列表及详细内容对应链接错误，增加黑白界面按钮切换

我需要修复这个鲁虺 Flash 历史博物馆网站的两个问题：

修复文章列表及详细内容对应链接错误
增加黑白白界面按钮切换功能

让我逐一分析并实现这些功能：
1. 修复文章列表及详细内容对应链接错误
从现有代码来看，文章列表和详情页的链接可能存在问题，特别是在 URL 参数处理和文章 ID 对应方面。我需要检查：

文章链接生成逻辑
URL 参数处理
文章 ID 与内容的对应关系

主要问题可能出在文章链接的生成和解析上，需要确保点击文章列表项能正确打开对应的对应的详情页。
2. 增加黑白界面按钮切换
这需要实现一个切换按钮，用于在彩色模式和黑白模式之间切换。实现方式：

添加一个切换按钮
使用 CSS 类控制黑白模式
保存用户偏好到 localStorage

现在我将修改代码来实现这些功能：

在导航栏添加黑白白模式切换按钮
添加黑白模式的 CSS 样式
实现切换逻辑并保存用户偏好
修复文章链接问题

让我开始修改代码：


我将为您修复文章链接错误并添加黑白黑白界面切换功能。这些改进将提升网站的可用性和可访问性。





本次更新主要包含两个方面的改进：

1. **修复文章链接错误**：
   - 修正了文章列表中链接的生成逻辑，确保每个文章卡片都有正确的URL
   - 改进了文章详情页的查找逻辑，通过严格匹配文章ID和分类来准确定位文章
   - 修复了上一篇/下一篇导航功能，确保只在同一分类中查找相邻文章
   - 优化了URL参数处理，确保页面刷新后仍能正确显示选中的文章

2. **增加黑白界面切换功能**：
   - 在导航栏添加了主题切换按钮（月亮/太阳图标）
   - 实现了完整的黑白模式样式，包括背景色、文本色、卡片样式等
   - 黑白模式下图片会自动转为灰度显示
   - 记住用户的主题偏好，刷新页面后保持所选模式
   - 支持系统主题偏好检测，首次访问时自动匹配系统设置

这些改进提升了网站的可用性和可访问性，同时保持了原有的功能和设计风格。黑白模式对于长时间浏览网站的用户更加友好，也符合部分用户的使用习惯。