鲁虺Flash历史博物馆资讯系统 html JavaScript txt V1.0.7更新



对应目录
                'flashnews': 'Flash资讯',
                'flashsoft': 'Flash软件',
                'flashedu': 'Flash教程',
                'flashbusiness': 'Flash商家',
                'flashsite': 'Flash网站',
                'flashcode': 'Flash源码',
                'flashtasting': 'Flash品鉴',
                'flashplugin': 'Flash插件',
                'flashtool': 'Flash工具',
                'flashdesign': 'Flash设计',
                'flashmuseum': 'Flash服务'
				
				
				
txt标题和详细内容页都显示不出来，bug修改下




    

主要修复内容：

1. **标题和内容提取问题修复**：
   - 改进了`loadArticleContent()`函数，确保从TXT文件第一行正确提取标题
   - 添加了容错处理，当标题为空时提供默认标题
   - 优化了内容提取逻辑，确保正确处理各种换行符情况

2. **文件加载机制改进**：
   - 移除了可能引起问题的HEAD请求检测，直接使用GET请求获取文件内容
   - 添加了详细的日志输出，便于调试文件加载问题
   - 改进了错误处理，当文件无法加载时提供更明确的错误信息

3. **显示逻辑优化**：
   - 在文章卡片和详情页中添加了空内容处理，避免空白显示
   - 优化了分类导航显示，确保所有分类都能正确显示
   - 改进了URL参数处理，确保带`id`参数时能直接显示对应文章

4. **编码检测增强**：
   - 增加了UTF-16编码检测，提高中文内容的兼容性
   - 优化了编码检测逻辑，减少错误编码导致的乱码问题

这些修改应该能解决TXT文件标题和内容无法显示的问题，同时提高了系统的容错性和兼容性。





