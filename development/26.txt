鲁虺域名WHOIS与IP信息查询系统 html JavaScript V1.0.5更新


鲁虺/撰稿



 System Name : Luhui WHOIS Information System V1.0.5
 系统名称 : 鲁虺域名WHOIS与IP信息查询系统 html JavaScript V1.0.5

测试显示 查询错误
所有代理服务均无法获取WHOIS数据 修改下




我针对"所有代理服务均无法获取WHOIS数据"的问题进行了优化，增加了更多代理服务、改进了直接API查询作为备选方案，并改进了错误处理机制。


    

本次更新重点解决了"所有代理服务均无法获取WHOIS数据"的问题，主要改进包括：

1. **增加更多代理服务**：
   - 扩展了WebSocket代理列表，从3个增加到6个不同的代理服务
   - 每个代理服务有独立的URL处理逻辑，提高兼容性

2. **引入多级查询机制**：
   - 第一级：尝试多个WebSocket代理连接多个WHOIS服务器
   - 第二级：如果所有WebSocket代理失败，自动切换到多个WHOIS API服务
   - 第三级：如果API也失败，尝试从本地缓存获取7天内的历史数据

3. **增强的缓存机制**：
   - 成功查询后自动缓存WHOIS数据到本地存储
   - 所有查询方式失败时，提供查看缓存数据的选项
   - 缓存数据会自动标记并显示最后更新时间

4. **更详细的错误处理**：
   - 根据不同错误类型提供针对性的解决方案
   - 区分WebSocket代理失败和API查询失败的不同情况
   - 提供更友好的错误提示和用户引导

5. **优化的查询参数**：
   - 延长超时时间至12秒，适应较慢的网络环境
   - 增加每个服务的重试逻辑
   - 改进数据有效性检查，减少误判

这些改进大幅提高了系统的容错能力和查询成功率，即使在某些网络环境下代理服务不可用，也能通过其他渠道获取所需信息。





